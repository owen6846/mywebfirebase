"use strict";(self["webpackChunkweb_vue"]=self["webpackChunkweb_vue"]||[]).push([[567],{5567:function(e,r,a){a.r(r),a.d(r,{default:function(){return X}});var s=a(6768);const n={class:"login-view"},o={class:"container py-4"};function l(e,r,a,l,d,i){const t=(0,s.g2)("login-form-component");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("div",o,[(0,s.bF)(t)])])}var d=a(4232),i=a(5130);const t={class:"login-form-container"},u={class:"card"},c={class:"card-body"},m={key:0,class:"alert alert-danger"},p={class:"mb-3"},b=["disabled"],v={class:"mb-3"},g=["disabled"],k={class:"d-grid"},L=["disabled"],f={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"};function h(e,r,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",t,[(0,s.Lk)("div",u,[r[5]||(r[5]=(0,s.Lk)("div",{class:"card-header bg-primary text-white"},[(0,s.Lk)("h4",{class:"mb-0"},"用戶登入")],-1)),(0,s.Lk)("div",c,[n.error?((0,s.uX)(),(0,s.CE)("div",m,(0,d.v_)(n.error),1)):(0,s.Q3)("",!0),(0,s.Lk)("form",{onSubmit:r[2]||(r[2]=(0,i.D$)(((...e)=>n.handleLogin&&n.handleLogin(...e)),["prevent"]))},[(0,s.Lk)("div",p,[r[3]||(r[3]=(0,s.Lk)("label",{for:"username",class:"form-label"},"用戶名",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":r[0]||(r[0]=e=>n.username=e),required:"",disabled:n.loading,placeholder:"請輸入用戶名"},null,8,b),[[i.Jo,n.username]])]),(0,s.Lk)("div",v,[r[4]||(r[4]=(0,s.Lk)("label",{for:"password",class:"form-label"},"密碼",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":r[1]||(r[1]=e=>n.password=e),required:"",disabled:n.loading,placeholder:"請輸入密碼"},null,8,g),[[i.Jo,n.password]])]),(0,s.Lk)("div",k,[(0,s.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:n.loading||!n.isFormValid},[n.loading?((0,s.uX)(),(0,s.CE)("span",f)):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,d.v_)(n.loading?"登入中...":"登入"),1)],8,L)])],32)])])])}a(4114);var w=a(144),y=a(782),C=a(1387),E={name:"LoginFormComponent",setup(){const e=(0,y.Pj)(),r=(0,C.rd)(),a=(0,C.lq)(),n=(0,w.KR)(""),o=(0,w.KR)(""),l=(0,s.EW)((()=>e.getters["auth/loading"])),d=(0,s.EW)((()=>e.getters["auth/error"])),i=(0,s.EW)((()=>""!==n.value.trim()&&""!==o.value.trim())),t=async()=>{if(!i.value)return;const s={username:n.value,password:o.value},l=await e.dispatch("auth/login",s);if(l){const e=a.query.redirect||"/";r.push(e)}};return{username:n,password:o,loading:l,error:d,isFormValid:i,handleLogin:t}}},_=a(1241);const F=(0,_.A)(E,[["render",h],["__scopeId","data-v-6e4457cd"]]);var V=F,q={name:"LoginView",components:{LoginFormComponent:V}};const W=(0,_.A)(q,[["render",l]]);var X=W}}]);