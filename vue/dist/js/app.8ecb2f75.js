(function(){"use strict";var e={1524:function(e,t,r){var a=r(4300);const o="/api/products";t.A={getFeaturedProducts(){return a.A.get(`${o}/featured`)},getProductsByMainCategory(e){return a.A.get(`${o}/category/main/${e}`)},getProductsBySubCategory(e){return a.A.get(`${o}/category/sub/${e}`)},getProductDetail(e){return a.A.get(`${o}/${e}`)},getProductImage(e,t=null){return t||(e?`http://127.0.0.1:5000${o}/image/${e}`:(console.warn("getProductImage: imageId is null or undefined"),""))},searchProducts(e){return a.A.get(`${o}/search`,{params:{q:e}})}}},2308:function(e,t,r){r.d(t,{A:function(){return ue}});r(8111),r(3579);var a=r(1387),o=r(7514),n=r(6768);const s={class:"home-view"},i={class:"container"};function c(e,t,r,a,o,c){const u=(0,n.g2)("carousel-component"),l=(0,n.g2)("featured-products-component");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.bF)(u),(0,n.Lk)("div",i,[(0,n.bF)(l)])])}var u=r(4232);const l={class:"carousel-wrapper"},d={key:0,class:"alert alert-danger"},g={id:"mainCarousel",class:"carousel slide","data-bs-ride":"carousel"},m={class:"carousel-indicators"},p=["data-bs-slide-to","aria-current","aria-label"],b={class:"carousel-inner"},v={class:"carousel-image-container"},f=["src","alt"],h={key:0,class:"carousel-button-container d-none d-md-block"},C=["href"];function y(e,t,r,a,o,s){const i=(0,n.g2)("loading-component");return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.bF)(i,{show:a.loading,message:"載入輪播圖中..."},null,8,["show"]),a.error?((0,n.uX)(),(0,n.CE)("div",d,(0,u.v_)(a.error),1)):(0,n.Q3)("",!0),(0,n.Lk)("div",g,[(0,n.Lk)("div",m,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.displayedItems,((e,t)=>((0,n.uX)(),(0,n.CE)("button",{key:"indicator-"+t,type:"button","data-bs-target":"#mainCarousel","data-bs-slide-to":t,class:(0,u.C4)({active:0===t}),"aria-current":0===t,"aria-label":"Slide "+(t+1)},null,10,p)))),128))]),(0,n.Lk)("div",b,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.displayedItems,((e,r)=>((0,n.uX)(),(0,n.CE)("div",{key:"slide-"+r,class:(0,u.C4)(["carousel-item",{active:0===r}])},[(0,n.Lk)("div",v,[(0,n.Lk)("img",{src:a.getImageSource(e),class:"d-block carousel-image",alt:e.title||"輪播圖片",onError:t[0]||(t[0]=(...e)=>a.handleImageError&&a.handleImageError(...e))},null,40,f)]),e.link_url?((0,n.uX)(),(0,n.CE)("div",h,[(0,n.Lk)("a",{href:e.link_url,class:"btn btn-primary"},"了解更多",8,C)])):(0,n.Q3)("",!0)],2)))),128))]),t[1]||(t[1]=(0,n.Fv)('<button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev" data-v-d91fbd20><span class="carousel-control-prev-icon" aria-hidden="true" data-v-d91fbd20></span><span class="visually-hidden" data-v-d91fbd20>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next" data-v-d91fbd20><span class="carousel-control-next-icon" aria-hidden="true" data-v-d91fbd20></span><span class="visually-hidden" data-v-d91fbd20>Next</span></button>',2))])])}var A=r(144),k=r(782),E=r(4708),w=r(6321),L=r.p+"img/1.0cce17c7.png",P=r.p+"img/2.ff1feb1d.png",I=r.p+"img/3.735f2e91.png",D={name:"CarouselComponent",components:{LoadingComponent:E.A},setup(){const e=(0,k.Pj)(),t=(0,A.KR)(L),r=(0,n.EW)((()=>e.getters["carousel/carouselItems"])),a=(0,n.EW)((()=>e.getters["carousel/loading"])),o=(0,n.EW)((()=>e.getters["carousel/error"])),s=(0,A.KR)([{id:"default-1",image:L},{id:"default-2",image:P},{id:"default-3",image:I}]),i=(0,n.EW)((()=>r.value&&r.value.length>0?r.value:s.value)),c=e=>e.image?e.image:e.image_url?e.image_url:w.A.getCarouselImageUrl(e.id),u=e=>{console.warn("輪播圖載入失敗，使用預設圖片:",e.target.src),e.target.src=t.value};return(0,n.sV)((async()=>{0===r.value.length&&await e.dispatch("carousel/fetchCarouselItems")})),{carouselItems:r,loading:a,error:o,displayedItems:i,getImageSource:c,handleImageError:u}}},S=r(1241);const B=(0,S.A)(D,[["render",y],["__scopeId","data-v-d91fbd20"]]);var F=B,M=r(2942);const N={class:"featured-products-section"},X={key:0,class:"alert alert-danger"},U={key:1,class:"row row-cols-2 row-cols-md-3 g-4"},Q=["onClick"],R={class:"product-image-container"},T=["src","alt"],K=["src","alt"],J={key:2,src:M,class:"card-img-top product-image",alt:"預設產品圖片"},O={class:"card-body"},_={class:"card-title"},x={class:"card-text model"},W={class:"card-text category"},q={key:0,class:"card-text price"},j={key:2,class:"no-products-message"};function Z(e,t,r,a,o,s){const i=(0,n.g2)("loading-component");return(0,n.uX)(),(0,n.CE)("div",N,[t[3]||(t[3]=(0,n.Lk)("h2",{class:"section-title"},"特色產品",-1)),(0,n.bF)(i,{show:a.loading,message:"載入產品中..."},null,8,["show"]),a.error?((0,n.uX)(),(0,n.CE)("div",X,(0,u.v_)(a.error),1)):(0,n.Q3)("",!0),a.featuredProducts.length>0?((0,n.uX)(),(0,n.CE)("div",U,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.featuredProducts,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"col"},[(0,n.Lk)("div",{class:"card h-100 product-card",onClick:t=>a.goToProductDetail(e.id)},[(0,n.Lk)("div",R,[e.image_url?((0,n.uX)(),(0,n.CE)("img",{key:0,src:e.image_url,class:"card-img-top product-image",alt:e.name,onError:t[0]||(t[0]=(...e)=>a.handleImageError&&a.handleImageError(...e))},null,40,T)):e.has_image&&e.image_id?((0,n.uX)(),(0,n.CE)("img",{key:1,src:a.getProductImageUrl(e.image_id),class:"card-img-top product-image",alt:e.name,onError:t[1]||(t[1]=(...e)=>a.handleImageError&&a.handleImageError(...e))},null,40,K)):((0,n.uX)(),(0,n.CE)("img",J))]),(0,n.Lk)("div",O,[(0,n.Lk)("h5",_,(0,u.v_)(e.name),1),(0,n.Lk)("p",x,"型號: "+(0,u.v_)(e.model||"N/A"),1),(0,n.Lk)("p",W,"分類: "+(0,u.v_)(e.main_category_name)+" - "+(0,u.v_)(e.sub_category_name),1),e.price?((0,n.uX)(),(0,n.CE)("p",q,"價格: NT$ "+(0,u.v_)(a.formatPrice(e.price)),1)):(0,n.Q3)("",!0)])],8,Q)])))),128))])):a.loading||a.error?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",j,t[2]||(t[2]=[(0,n.Lk)("p",null,"目前沒有特色產品可顯示",-1)])))])}r(4114);var H=r(1524),V={name:"FeaturedProductsComponent",components:{LoadingComponent:E.A},setup(){const e=(0,k.Pj)(),t=(0,a.rd)(),o=(0,n.EW)((()=>e.getters["products/featuredProducts"])),s=(0,n.EW)((()=>e.getters["products/loading"])),i=(0,n.EW)((()=>e.getters["products/error"])),c=e=>H.A.getProductImage(e),u=e=>{console.warn("圖片載入失敗，使用預設圖片:",e.target.src),e.target.src=r(2942)},l=e=>Number(e).toLocaleString("zh-TW"),d=e=>{t.push({name:"productDetail",params:{productId:e}})};return(0,n.sV)((async()=>{0===o.value.length&&await e.dispatch("products/fetchFeaturedProducts")})),{featuredProducts:o,loading:s,error:i,getProductImageUrl:c,handleImageError:u,formatPrice:l,goToProductDetail:d}}};const Y=(0,S.A)(V,[["render",Z],["__scopeId","data-v-27e876dd"]]);var G=Y,z={name:"HomeView",components:{CarouselComponent:F,FeaturedProductsComponent:G}};const $=(0,S.A)(z,[["render",c],["__scopeId","data-v-200e85c5"]]);var ee=$;const te=()=>r.e(207).then(r.bind(r,3207)),re=()=>r.e(49).then(r.bind(r,1049)),ae=()=>r.e(869).then(r.bind(r,8869)),oe=()=>r.e(567).then(r.bind(r,5567)),ne=()=>r.e(505).then(r.bind(r,8505)),se=()=>r.e(390).then(r.bind(r,2390)),ie=[{path:"/",name:"home",component:ee,meta:{title:"首頁 - 資欣企業",hideBreadcrumb:!0}},{path:"/products/main/:mainCategoryId",name:"mainCategory",component:te,props:!0,meta:{title:"產品列表 - 資欣企業"}},{path:"/products/sub/:subCategoryId",name:"subCategory",component:te,props:!0,meta:{title:"產品列表 - 資欣企業"}},{path:"/product/:productId",name:"productDetail",component:re,props:!0,meta:{title:"產品詳情 - 資欣企業"}},{path:"/documents",name:"documents",component:ae,meta:{title:"相關文件下載 - 資欣企業"}},{path:"/login",name:"login",component:oe,meta:{title:"用戶登入 - 資欣企業"}},{path:"/about",name:"about",component:ne,meta:{title:"關於我們 - 資欣企業"}},{path:"/password-update",name:"passwordUpdate",component:se,meta:{title:"修改密碼 - 資欣企業",requiresAuth:!0}},{path:"/:pathMatch(.*)*",redirect:"/"}],ce=(0,a.aE)({history:(0,a.LA)("/"),routes:ie,scrollBehavior(){return{top:0}}});ce.beforeEach(((e,t,r)=>{document.title=e.meta.title||"資欣企業",e.matched.some((e=>e.meta.requiresAuth))?o.A.getters["auth/isAuthenticated"]?r():r({path:"/login",query:{redirect:e.fullPath}}):r()}));var ue=ce},2942:function(e){e.exports="data:image/png;base64,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"},3244:function(e,t,r){var a=r(4300),o=r(7514);const n="/api/documents";t.A={getPublicDocuments(){return a.A.get(`${n}/public`)},getPrivateDocuments(){return a.A.get(`${n}/private`)},getDocumentDownloadUrl(e,t=null,r=!1){const a=o.A.getters["auth/token"];if(!r&&t&&(t.startsWith("http://")||t.startsWith("https://")))return t;const s=`http://127.0.0.1:5000${n}/download/${e}`;return r&&a?`${s}?token=${a}`:s}}},4300:function(e,t,r){r(4114);var a=r(4373),o=r(7514),n=r(2308);const s=a.A.create({baseURL:"http://127.0.0.1:5000",headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4});s.interceptors.request.use((e=>{const t=o.A.getters["auth/token"];return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),s.interceptors.response.use((e=>e),(e=>{if(e.response){const{status:t}=e.response;401===t&&(o.A.dispatch("auth/logout"),"/login"!==n.A.currentRoute.value.path&&n.A.push({path:"/login",query:{redirect:n.A.currentRoute.value.fullPath}})),403===t&&console.error("無權限訪問"),500===t&&console.error("伺服器錯誤，請稍後再試")}return Promise.reject(e)})),t.A=s},4708:function(e,t,r){r.d(t,{A:function(){return g}});var a=r(6768),o=r(4232);const n={key:0,class:"loading-container"},s={class:"loading-spinner"},i={class:"mt-2"};function c(e,t,r,c,u,l){return r.show?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",s,[t[0]||(t[0]=(0,a.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,a.Lk)("span",{class:"visually-hidden"},"載入中...")],-1)),(0,a.Lk)("p",i,(0,o.v_)(r.message),1)])])):(0,a.Q3)("",!0)}var u={name:"LoadingComponent",props:{show:{type:Boolean,default:!1},message:{type:String,default:"載入中..."}}},l=r(1241);const d=(0,l.A)(u,[["render",c],["__scopeId","data-v-06590ab8"]]);var g=d},6321:function(e,t,r){var a=r(4300);const o="/api/carousel";t.A={getCarouselItems(){return a.A.get(`${o}/`)},getCarouselImageUrl(e,t=null){return t||(e?`http://127.0.0.1:5000${o}/image/${e}`:(console.warn("getCarouselImageUrl: carouselId is null or undefined"),""))}}},6975:function(e,t,r){var a=r(5130),o=r(6768);const n={id:"app"},s={class:"container-fluid p-0"};function i(e,t,r,a,i,c){const u=(0,o.g2)("nav-bar-component"),l=(0,o.g2)("router-view"),d=(0,o.g2)("footer-component");return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.bF)(u),(0,o.Lk)("main",s,[(0,o.bF)(l)]),(0,o.bF)(d)])}var c=r(4232);const u={class:"navbar navbar-expand-lg sticky-top"},l={class:"container"},d={class:"collapse navbar-collapse",id:"navbarContent"},g={class:"navbar-nav me-auto mb-2 mb-lg-0"},m={class:"nav-item"},p={class:"submenu-container"},b={key:0,class:"bi bi-chevron-right float-end"},v={class:"nav-item"},f={class:"nav-item"},h={class:"d-flex align-items-center"},C={key:0,class:"dropdown"},y={class:"btn btn-user dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},A={class:"dropdown-menu dropdown-menu-end"};function k(e,t,r,a,n,s){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("nav",u,[(0,o.Lk)("div",l,[(0,o.bF)(i,{class:"navbar-brand",to:"/"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.Lk)("img",{src:"/img/logo.png",alt:"資欣企業",height:"35"},null,-1)]))),_:1}),t[15]||(t[15]=(0,o.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarContent","aria-controls":"navbarContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,o.Lk)("div",d,[(0,o.Lk)("ul",g,[(0,o.Lk)("li",m,[(0,o.bF)(i,{class:"nav-link",to:"/"},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)("首頁")]))),_:1})]),(0,o.Lk)("li",{class:"nav-item dropdown",ref:"productDropdown",onMouseleave:t[3]||(t[3]=(...e)=>a.hideProductMenu&&a.hideProductMenu(...e))},[(0,o.Lk)("a",{class:(0,c.C4)(["nav-link dropdown-toggle",{"product-active":a.isProductRouteActive}]),href:"#",role:"button","data-bs-toggle":"dropdown",onMouseover:t[0]||(t[0]=(...e)=>a.showProductMenu&&a.showProductMenu(...e))}," 產品 ",34),(0,o.Lk)("ul",{class:"dropdown-menu",onMouseleave:t[2]||(t[2]=(...e)=>a.hideProductMenu&&a.hideProductMenu(...e))},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.mainCategories,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id},[(0,o.Lk)("div",p,[(0,o.bF)(i,{to:{name:"mainCategory",params:{mainCategoryId:e.id}},class:"dropdown-item position-relative",onMouseover:t=>a.showSubMenu(e.id)},{default:(0,o.k6)((()=>[(0,o.eW)((0,c.v_)(e.name)+" ",1),a.hasSubCategories(e.id)?((0,o.uX)(),(0,o.CE)("i",b)):(0,o.Q3)("",!0)])),_:2},1032,["to","onMouseover"]),a.isSubMenuOpen(e.id)?((0,o.uX)(),(0,o.CE)("ul",{key:0,class:"sub-submenu",onMouseleave:t[1]||(t[1]=(...e)=>a.hideAllSubMenu&&a.hideAllSubMenu(...e))},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.getSubCategories(e.id),(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id},[(0,o.bF)(i,{to:{name:"subCategory",params:{subCategoryId:e.id}},class:"dropdown-item"},{default:(0,o.k6)((()=>[(0,o.eW)((0,c.v_)(e.name),1)])),_:2},1032,["to"])])))),128))],32)):(0,o.Q3)("",!0)])])))),128))],32)],544),(0,o.Lk)("li",v,[(0,o.bF)(i,{class:"nav-link",to:"/documents"},{default:(0,o.k6)((()=>t[7]||(t[7]=[(0,o.eW)("相關文件下載")]))),_:1})]),(0,o.Lk)("li",f,[(0,o.bF)(i,{class:"nav-link",to:"/about"},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("關於我們")]))),_:1})])]),(0,o.Lk)("div",h,[t[14]||(t[14]=(0,o.Lk)("a",{href:"https://www.facebook.com/yourpage",target:"_blank",class:"social-icon me-3"},[(0,o.Lk)("i",{class:"bi bi-facebook"})],-1)),a.isAuthenticated?((0,o.uX)(),(0,o.CE)("div",C,[(0,o.Lk)("button",y,[t[9]||(t[9]=(0,o.Lk)("i",{class:"bi bi-person-circle me-1"},null,-1)),(0,o.eW)(" "+(0,c.v_)(a.userDisplayName),1)]),(0,o.Lk)("ul",A,[(0,o.Lk)("li",null,[(0,o.bF)(i,{class:"dropdown-item",to:"/password-update"},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.Lk)("i",{class:"bi bi-key me-2"},null,-1),(0,o.eW)(" 修改密碼 ")]))),_:1})]),t[12]||(t[12]=(0,o.Lk)("li",null,[(0,o.Lk)("hr",{class:"dropdown-divider"})],-1)),(0,o.Lk)("li",null,[(0,o.Lk)("button",{class:"dropdown-item",onClick:t[4]||(t[4]=(...e)=>a.logout&&a.logout(...e))},t[11]||(t[11]=[(0,o.Lk)("i",{class:"bi bi-box-arrow-right me-2"},null,-1),(0,o.eW)(" 登出 ")]))])])])):((0,o.uX)(),(0,o.Wv)(i,{key:1,class:"btn btn-login",to:"/login"},{default:(0,o.k6)((()=>t[13]||(t[13]=[(0,o.Lk)("i",{class:"bi bi-box-arrow-in-right me-1"},null,-1),(0,o.eW)(" 登入 ")]))),_:1}))])])])])}r(4114);var E=r(144),w=r(782),L=r(1387),P={name:"NavBarComponent",setup(){const e=(0,w.Pj)(),t=(0,L.rd)(),r=(0,E.KR)(null),a=(0,E.KR)(null),n=(0,o.EW)((()=>e.getters["auth/isAuthenticated"])),s=(0,o.EW)((()=>e.getters["auth/user"])),i=(0,o.EW)((()=>s.value?.username||"")),c=(0,o.EW)((()=>e.getters["categories/mainCategories"])),u=(0,o.EW)((()=>{const e=t.currentRoute.value;return"mainCategory"===e.name||"subCategory"===e.name||e.path.includes("/product")})),l=t=>e.getters["categories/subCategories"](t),d=t=>{const r=e.getters["categories/subCategories"](t);return r&&r.length>0},g=e=>a.value===e,m=()=>{const e=r.value;if(e){const t=e.querySelector(".dropdown-toggle"),r=e.querySelector(".dropdown-menu");t&&r&&(t.setAttribute("aria-expanded","true"),r.classList.add("show"))}},p=()=>{const e=r.value;if(e){const t=e.querySelector(".dropdown-toggle"),r=e.querySelector(".dropdown-menu");t&&r&&(t.setAttribute("aria-expanded","false"),r.classList.remove("show")),a.value=null}},b=e=>{a.value=e},v=()=>{a.value=null},f=()=>{e.dispatch("auth/logout"),t.push("/")};return(0,o.sV)((async()=>{if(0===c.value.length)try{await e.dispatch("categories/fetchMainCategories");for(const t of c.value)await e.dispatch("categories/fetchSubCategories",t.id)}catch(a){console.error("獲取分類資料失敗:",a)}document.addEventListener("click",(e=>{const t=r.value;t&&!t.contains(e.target)&&p()})),t.afterEach((()=>{p()}))})),{productDropdown:r,isAuthenticated:n,userDisplayName:i,mainCategories:c,getSubCategories:l,hasSubCategories:d,isSubMenuOpen:g,showProductMenu:m,hideProductMenu:p,showSubMenu:b,hideAllSubMenu:v,logout:f,isProductRouteActive:u}}},I=r(1241);const D=(0,I.A)(P,[["render",k],["__scopeId","data-v-3476c7c4"]]);var S=D;const B={class:"footer mt-auto"},F={class:"container"},M={class:"row copyright-row"},N={class:"col-12 text-center"},X={class:"mb-0"};function U(e,t,r,a,n,s){return(0,o.uX)(),(0,o.CE)("footer",B,[(0,o.Lk)("div",F,[t[0]||(t[0]=(0,o.Fv)('<div class="row align-items-center" data-v-5e126bcd><div class="col-md-8" data-v-5e126bcd><div class="d-flex align-items-center footer-info" data-v-5e126bcd><h6 class="mb-0 me-4" data-v-5e126bcd>資欣企業</h6><div class="contact-info" data-v-5e126bcd><span data-v-5e126bcd><i class="bi bi-geo-alt-fill me-1" data-v-5e126bcd></i> 台北市某某路 123 號</span><span class="mx-2" data-v-5e126bcd>|</span><span data-v-5e126bcd><i class="bi bi-telephone-fill me-1" data-v-5e126bcd></i> 02-1234-5678</span><span class="mx-2" data-v-5e126bcd>|</span><span data-v-5e126bcd><i class="bi bi-envelope-fill me-1" data-v-5e126bcd></i> info@yourcompany.com</span></div></div></div><div class="col-md-4" data-v-5e126bcd><div class="d-flex justify-content-md-end justify-content-center mt-3 mt-md-0" data-v-5e126bcd><div class="social-links" data-v-5e126bcd><a href="https://www.facebook.com/yourpage" target="_blank" class="me-3" data-v-5e126bcd><i class="bi bi-facebook" data-v-5e126bcd></i></a></div></div></div></div>',1)),(0,o.Lk)("div",M,[(0,o.Lk)("div",N,[(0,o.Lk)("p",X,"© "+(0,c.v_)(a.currentYear)+" 資欣企業. 版權所有.",1)])])])])}var Q={name:"FooterComponent",setup(){const e=(0,E.KR)((new Date).getFullYear());return{currentYear:e}}};const R=(0,I.A)(Q,[["render",U],["__scopeId","data-v-5e126bcd"]]);var T=R,K={name:"App",components:{NavBarComponent:S,FooterComponent:T}};const J=(0,I.A)(K,[["render",i]]);var O=J,_=r(2308),x=r(7514);r(323);const W=(0,a.Ef)(O);W.use(_.A),W.use(x.A),W.config.errorHandler=(e,t,r)=>{console.error("Vue 錯誤:",e),console.error("發生錯誤的組件:",t),console.error("錯誤信息:",r)},W.mount("#app")},7514:function(e,t,r){r.d(t,{A:function(){return T}});var a=r(782),o=r(5131),n=r(4300);const s="/api/auth";var i={login(e){return n.A.post(`${s}/login`,e)},getUserProfile(){return n.A.get(`${s}/me`)},changePassword(e){return n.A.post(`${s}/change-password`,e)}};const c={token:null,user:null,loading:!1,error:null},u={token:e=>e.token,user:e=>e.user,isAuthenticated:e=>!!e.token,loading:e=>e.loading,error:e=>e.error},l={async login({commit:e},t){e("setLoading",!0),e("setError",null);try{const r=await i.login(t),{access_token:a,user:o}=r.data;return e("setToken",a),e("setUser",o),!0}catch(r){return e("setError",r.response?.data?.error||"登入失敗"),!1}finally{e("setLoading",!1)}},async fetchUserProfile({commit:e,state:t}){if(!t.token)return!1;e("setLoading",!0);try{const t=await i.getUserProfile();return e("setUser",t.data),!0}catch(r){return console.error("獲取用戶資料失敗:",r),!1}finally{e("setLoading",!1)}},async changePassword({commit:e},t){e("setLoading",!0),e("setError",null);try{return await i.changePassword(t),!0}catch(r){return e("setError",r.response?.data?.error||"修改密碼失敗"),!1}finally{e("setLoading",!1)}},logout({commit:e}){e("setToken",null),e("setUser",null)}},d={setToken(e,t){e.token=t},setUser(e,t){e.user=t},setLoading(e,t){e.loading=t},setError(e,t){e.error=t}};var g={namespaced:!0,state:c,getters:u,actions:l,mutations:d},m=r(1524);const p={featuredProducts:[],productsByCategory:{},currentProduct:null,loading:!1,error:null},b={featuredProducts:e=>e.featuredProducts,productsByCategory:e=>e.productsByCategory,currentProduct:e=>e.currentProduct,loading:e=>e.loading,error:e=>e.error},v={async fetchFeaturedProducts({commit:e}){e("setLoading",!0),e("setError",null);try{const t=await m.A.getFeaturedProducts();return e("setFeaturedProducts",t.data),t.data}catch(t){return e("setError",t.response?.data?.error||"獲取特色產品失敗"),[]}finally{e("setLoading",!1)}},async fetchProductsByMainCategory({commit:e,state:t},r){if(t.productsByCategory[`main_${r}`])return t.productsByCategory[`main_${r}`];e("setLoading",!0),e("setError",null);try{const t=await m.A.getProductsByMainCategory(r);return e("setProductsByCategory",{key:`main_${r}`,products:t.data}),t.data}catch(a){return e("setError",a.response?.data?.error||"獲取產品失敗"),[]}finally{e("setLoading",!1)}},async fetchProductsBySubCategory({commit:e,state:t},r){if(t.productsByCategory[`sub_${r}`])return t.productsByCategory[`sub_${r}`];e("setLoading",!0),e("setError",null);try{const t=await m.A.getProductsBySubCategory(r);return e("setProductsByCategory",{key:`sub_${r}`,products:t.data}),t.data}catch(a){return e("setError",a.response?.data?.error||"獲取產品失敗"),[]}finally{e("setLoading",!1)}},async fetchProductDetail({commit:e},t){e("setLoading",!0),e("setError",null);try{const r=await m.A.getProductDetail(t);return e("setCurrentProduct",r.data),r.data}catch(r){return e("setError",r.response?.data?.error||"獲取產品詳情失敗"),null}finally{e("setLoading",!1)}},async searchProducts({commit:e},t){e("setLoading",!0),e("setError",null);try{const e=await m.A.searchProducts(t);return e.data}catch(r){return e("setError",r.response?.data?.error||"搜尋產品失敗"),[]}finally{e("setLoading",!1)}},getProductImage(e,t){return m.A.getProductImage(t)}},f={setFeaturedProducts(e,t){e.featuredProducts=t},setProductsByCategory(e,{key:t,products:r}){e.productsByCategory={...e.productsByCategory,[t]:r}},setCurrentProduct(e,t){e.currentProduct=t},setLoading(e,t){e.loading=t},setError(e,t){e.error=t},clearProductsByCategory(e){e.productsByCategory={}}};var h={namespaced:!0,state:p,getters:b,actions:v,mutations:f};const C="/api/categories";var y={getAllCategories(){return n.A.get(`${C}/`)},getMainCategories(){return n.A.get(`${C}/main`)},getSubCategories(e){return n.A.get(`${C}/main/${e}/subcategories`)}};const A={allCategories:[],mainCategories:[],subCategories:{},loading:!1,error:null},k={allCategories:e=>e.allCategories,mainCategories:e=>e.mainCategories,subCategories:e=>t=>e.subCategories[t]||[],loading:e=>e.loading,error:e=>e.error},E={async fetchAllCategories({commit:e}){e("setLoading",!0),e("setError",null);try{const t=await y.getAllCategories();return e("setAllCategories",t.data),t.data}catch(t){return e("setError",t.response?.data?.error||"獲取分類失敗"),[]}finally{e("setLoading",!1)}},async fetchMainCategories({commit:e}){e("setLoading",!0),e("setError",null);try{const t=await y.getMainCategories();return e("setMainCategories",t.data),t.data}catch(t){return e("setError",t.response?.data?.error||"獲取主分類失敗"),[]}finally{e("setLoading",!1)}},async fetchSubCategories({commit:e,state:t},r){if(t.subCategories[r])return t.subCategories[r];e("setLoading",!0),e("setError",null);try{const t=await y.getSubCategories(r);return e("setSubCategories",{mainCategoryId:r,subCategories:t.data}),t.data}catch(a){return e("setError",a.response?.data?.error||"獲取子分類失敗"),[]}finally{e("setLoading",!1)}}},w={setAllCategories(e,t){e.allCategories=t},setMainCategories(e,t){e.mainCategories=t},setSubCategories(e,{mainCategoryId:t,subCategories:r}){e.subCategories={...e.subCategories,[t]:r}},setLoading(e,t){e.loading=t},setError(e,t){e.error=t}};var L={namespaced:!0,state:A,getters:k,actions:E,mutations:w},P=r(3244);const I={publicDocuments:[],privateDocuments:[],loading:!1,error:null},D={publicDocuments:e=>e.publicDocuments,privateDocuments:e=>e.privateDocuments,loading:e=>e.loading,error:e=>e.error},S={async fetchPublicDocuments({commit:e}){e("setLoading",!0),e("setError",null);try{const t=await P.A.getPublicDocuments();return e("setPublicDocuments",t.data),t.data}catch(t){return e("setError",t.response?.data?.error||"獲取公開文件失敗"),[]}finally{e("setLoading",!1)}},async fetchPrivateDocuments({commit:e}){e("setLoading",!0),e("setError",null);try{const t=await P.A.getPrivateDocuments();return e("setPrivateDocuments",t.data),t.data}catch(t){return e("setError",t.response?.data?.error||"獲取私人文件失敗"),[]}finally{e("setLoading",!1)}}},B={setPublicDocuments(e,t){e.publicDocuments=t},setPrivateDocuments(e,t){e.privateDocuments=t},setLoading(e,t){e.loading=t},setError(e,t){e.error=t}};var F={namespaced:!0,state:I,getters:D,actions:S,mutations:B},M=r(6321);const N={carouselItems:[],loading:!1,error:null},X={carouselItems:e=>e.carouselItems,loading:e=>e.loading,error:e=>e.error},U={async fetchCarouselItems({commit:e}){e("setLoading",!0),e("setError",null);try{const t=await M.A.getCarouselItems();return e("setCarouselItems",t.data),t.data}catch(t){return e("setError",t.response?.data?.error||"獲取輪播圖失敗"),[]}finally{e("setLoading",!1)}},getCarouselImageUrl(e,t){return M.A.getCarouselImageUrl(t)}},Q={setCarouselItems(e,t){e.carouselItems=t},setLoading(e,t){e.loading=t},setError(e,t){e.error=t}};var R={namespaced:!0,state:N,getters:X,actions:U,mutations:Q},T=(0,a.y$)({modules:{auth:g,products:h,categories:L,documents:F,carousel:R},plugins:[(0,o.A)({key:"taiwan-oa-website",paths:["auth"]})]})}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,a,o,n){if(!a){var s=1/0;for(l=0;l<e.length;l++){a=e[l][0],o=e[l][1],n=e[l][2];for(var i=!0,c=0;c<a.length;c++)(!1&n||s>=n)&&Object.keys(r.O).every((function(e){return r.O[e](a[c])}))?a.splice(c--,1):(i=!1,n<s&&(s=n));if(i){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[a,o,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,a){return r.f[a](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+"."+{49:"651f2c90",207:"ef2bd0de",390:"c9373b72",505:"e47946d1",567:"ef0395b0",869:"996f6d03"}[e]+".js"}}(),function(){r.miniCssF=function(e){return"css/"+e+"."+{49:"64742d56",207:"a8bc7bf3",390:"9a1ebd4b",505:"bd3ac171",567:"d0721c28",869:"24c3828e"}[e]+".css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="web_vue:";r.l=function(a,o,n,s){if(e[a])e[a].push(o);else{var i,c;if(void 0!==n)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+n){i=d;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+n),i.src=a),e[a]=[o];var g=function(t,r){i.onerror=i.onload=null,clearTimeout(m);var o=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(r)})),t)return t(r)},m=setTimeout(g.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=g.bind(null,i.onerror),i.onload=g.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,o,n){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",r.nc&&(s.nonce=r.nc);var i=function(r){if(s.onerror=s.onload=null,"load"===r.type)o();else{var a=r&&r.type,i=r&&r.target&&r.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+i+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=i,s.parentNode&&s.parentNode.removeChild(s),n(c)}};return s.onerror=s.onload=i,s.href=t,a?a.parentNode.insertBefore(s,a.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var o=r[a],n=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(n===e||n===t))return o}var s=document.getElementsByTagName("style");for(a=0;a<s.length;a++){o=s[a],n=o.getAttribute("data-href");if(n===e||n===t)return o}},a=function(a){return new Promise((function(o,n){var s=r.miniCssF(a),i=r.p+s;if(t(s,i))return o();e(a,i,null,o,n)}))},o={524:0};r.f.miniCss=function(e,t){var r={49:1,207:1,390:1,505:1,567:1,869:1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=a(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={524:0};r.f.j=function(t,a){var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var n=new Promise((function(r,a){o=e[t]=[r,a]}));a.push(o[2]=n);var s=r.p+r.u(t),i=new Error,c=function(a){if(r.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var n=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",i.name="ChunkLoadError",i.type=n,i.request=s,o[1](i)}};r.l(s,c,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,n,s=a[0],i=a[1],c=a[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(c)var l=c(r)}for(t&&t(a);u<s.length;u++)n=s[u],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(l)},a=self["webpackChunkweb_vue"]=self["webpackChunkweb_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[504],(function(){return r(6975)}));a=r.O(a)})();